(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),o=n.n(s),c=n(3),u=n(1),i=n.n(u),l=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"author__name"},"Name: ".concat(t.name)),r.a.createElement("span",{className:"author__mail"},"E-mail: ".concat(t.email))),r.a.createElement("p",null,r.a.createElement("span",{className:"author__address"},"Address:\n         ".concat(t.address.city,"\n        ").concat(t.address.street,"\n        ").concat(t.address.suite)),r.a.createElement("span",{className:"author__zipcode"},"Zipcode:  ".concat(t.address.zipcode))))};l.defaultProps={user:[]};var m=l,p=n(10),d=n(15),f=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},E=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},h=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},_=function(e){return{type:"PREPARE_POSTS",preparedPosts:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREPARE_POSTS":return t.preparedPosts;case"DELETE_POST":return e.filter(function(e){return e.id!==t.id});case"DELETE_COMMENT":return e.map(function(e){return Object(p.a)({},e,{postComments:e.postComments.filter(function(e){return e.id!==t.id})})});default:return e}},N=function(e){var t=e.commentProps,n=e.deleteComment;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"post__comments--body text"},t.body,r.a.createElement("button",{type:"button",className:"button button--delete",onClick:function(){return n(t.id)}},"DELETE")),r.a.createElement("section",{className:"post__comments--author author"},r.a.createElement("div",{className:"author--name"}," Name: ".concat(t.name)),r.a.createElement("div",{className:"author--email"},"E-mail: ".concat(t.email))))};N.defaultProps={commentProps:[]};var b=Object(c.b)(null,function(e){return{deleteComment:function(t){return e(function(e){return{type:"DELETE_COMMENT",id:e}}(t))}}})(N),y=function(e){var t=e.comments;return r.a.createElement("section",{className:"post__comments"},r.a.createElement("h2",{className:"post__comments--title title"},"Comments:"),t.map(function(e){return r.a.createElement(b,{commentProps:e,key:e.id})}),0===t.length&&r.a.createElement("h3",{className:"post__comments--no-comment"},"No comments yet"))};y.defaultProps={comments:[]};var w=y,g=function(e){var t=e.postElems,n=e.deletePost;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"post__title title"},r.a.createElement("button",{type:"button",className:"button button--delete",onClick:function(){return n(t.id)}},"DELETE"),t.title),r.a.createElement("section",{className:"post__user author"},r.a.createElement(m,{user:t.user})),r.a.createElement("article",{className:"post__body text"},t.body),r.a.createElement(w,{comments:t.postComments}))};g.defaultProps={postElems:[]};var P=Object(c.b)(null,function(e){return{deletePost:function(t){return e(function(e){return{type:"DELETE_POST",id:e}}(t))}}})(g),L=(n(27),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_TERM":return t.searchTerm;case"HANDLE_CHANGE":return t.eventValue.trim().toLowerCase();default:return e}}),T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"FINISH_SHOWING":return!1;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},O=n(4),C=n(13),I=n(14),j=function(e){return e.isLoading},A=function(e){return e.isShown},x=function(e){return e.preparedPosts.filter(function(t){return t.title.toLowerCase().includes(e.searchTerm)||t.body.toLowerCase().includes(e.searchTerm)})},D=Object(O.combineReducers)({isLoading:S,isShown:T,preparedPosts:v,searchTerm:L}),H=Object(O.createStore)(D,Object(I.composeWithDevTools)(Object(O.applyMiddleware)(C.a))),R=Object(c.b)(function(e){return{isLoading:j(e),isShown:A(e),preparedPosts:x(e)}},function(e){return{preparePosts:function(){return e(function(e){var t,n,a,r,s,o;return i.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.a.awrap(Promise.all([f(),E(),h()]));case 2:return t=c.sent,n=Object(d.a)(t,3),a=n[0],r=n[1],s=n[2],c.next=9,i.a.awrap(a.map(function(e){var t=r.find(function(t){return t.id===e.userId}),n=s.filter(function(t){return t.postId===e.id});return Object(p.a)({},e,{user:t,postComments:n})}));case 9:o=c.sent,e(_(o));case 11:case"end":return c.stop()}})})},inputChangeHandler:function(t){return e({type:"HANDLE_CHANGE",eventValue:t})},finishLoad:function(){return e({type:"FINISH_LOADING"})},startLoad:function(){return e({type:"START_LOADING"})},finishShow:function(){return e({type:"FINISH_SHOWING"})}}})(function(e){var t=e.isShown,n=e.isLoading,a=e.preparePosts,s=e.inputChangeHandler,o=e.startLoad,c=e.finishShow,u=e.finishLoad,l=e.preparedPosts,m=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,r)},t)}}(s,1e3);return r.a.createElement("div",{className:"App"},t?r.a.createElement("button",{type:"button",className:"button button--init",onClick:function(){i.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.next=3,i.a.awrap(a());case 3:u(),c();case 5:case"end":return e.stop()}})}},n?"Loading...":"Load"):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"post-list__searchInput",placeholder:"Search",onChange:function(e){return m(e.target.value)}}),r.a.createElement("span",{className:"post-list__post-count"},"".concat(l.length,"\n                  ").concat(1===l.length?"post":"posts"," found")),r.a.createElement("article",{className:"post-list"},l.map(function(e){return r.a.createElement("section",{className:"post-list__post",key:e.id},r.a.createElement(P,{postElems:e}))}))))});o.a.render(r.a.createElement(c.a,{store:H},r.a.createElement(R,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f1ad47fb.chunk.js.map